commit 6ef7b373a2284e24753b6eb249ba68da5d9a2444
Author: SÃ©bastien Lambert <opensc@beonis.fr>
Date:   Mon Jun 22 22:48:35 2015 +0200

    Do not use function returning reference to temporary.
    
    REVIEW: 124126
    BUG: 347178

diff --git a/languages/cpp/cppduchain/cpppreprocessenvironment.cpp b/languages/cpp/cppduchain/cpppreprocessenvironment.cpp
index 71babca..bb5f72e 100644
--- a/languages/cpp/cppduchain/cpppreprocessenvironment.cpp
+++ b/languages/cpp/cppduchain/cpppreprocessenvironment.cpp
@@ -117,7 +117,7 @@ void CppPreprocessEnvironment::merge( const Cpp::EnvironmentFile* file, bool mer
       rpp::Environment::setMacro(const_cast<rpp::pp_macro*>(&it.ref())); //Do not use our overridden setMacro(..), because addDefinedMacro(..) is not needed(macro-sets should be merged separately)
 
     for( Cpp::ReferenceCountedStringSet::Iterator it = file->definedMacroNames().iterator(); it; ++it ) {
-      m_macroNameSet.insert(it.ref());
+      m_macroNameSet.insert(*it);
     }
 
     //We don't have to care about efficiency too much here, unDefinedMacros should be a rather small set
@@ -126,7 +126,7 @@ void CppPreprocessEnvironment::merge( const Cpp::EnvironmentFile* file, bool mer
         m->defined = false;
         m->m_valueHashValid = false;
         rpp::Environment::setMacro(m); //Do not use our overridden setMacro(..), because addDefinedMacro(..) is not needed(macro-sets should be merged separately)
-        m_macroNameSet.remove(it.ref());
+        m_macroNameSet.remove(*it);
     }
 }
 
